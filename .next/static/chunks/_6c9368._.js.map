{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Dell/Desktop/studentinfosystem/components/RegistrationForm.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/router\";\r\n\r\nexport default function RegistrationForm() {\r\n    const [name, setName] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        if (!name || !email || !password) {\r\n            setError(\"All fields are necessary!\");\r\n            return; \r\n        }\r\n\r\n        try {\r\n            const resUserExist = await fetch('api/userExist', {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\" \r\n                },\r\n                body: JSON.stringify({ email }),\r\n            });\r\n\r\n            const { user } = await resUserExist.json();\r\n\r\n            if (user) {\r\n                setError(\"User already exists!\");\r\n                return;\r\n            }\r\n\r\n            const res = await fetch('api/register', {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\" \r\n                },\r\n                body: JSON.stringify ({\r\n                    name, \r\n                    email, \r\n                    password,\r\n                }),\r\n            });\r\n\r\n            if (res.ok) {\r\n                const form = e.target;\r\n                form.reset();\r\n            } else {\r\n                console.log(\"User registration failed\");\r\n            }\r\n        } catch (error) {\r\n            console.log(\"Error during registration\", error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"grid place-items-center h-screen\">\r\n            <div className=\"shadow-lg p-5 rounded-lg border-t-4 border-green-400\">\r\n                <h1 className=\"text-xl font-bold my-4\">Student Information System</h1>\r\n                <h2>Create an Admin Account</h2>\r\n\r\n                <form onSubmit={handleSubmit} className=\"flex flex-col gap-3 mt-2\">\r\n                    <input onChange={(e) => setName(e.target.value)} type=\"text\" placeholder=\"Full Name\"/>\r\n                    <input onChange={(e) => setEmail(e.target.value)} type=\"text\" placeholder=\"Email\"/>\r\n                    <input onChange={(e) => setPassword(e.target.value)} type=\"password\" placeholder=\"Password\"/>\r\n                    <button className=\"bg-green-700 text-white font-bold cursor-pointer px-6 py-2\">Create Account</button>\r\n\r\n                    { error && (\r\n                        <div className=\"bg-red-600 text-white w-fit text-sm py-1 px-3 rounded-md mt-2\">\r\n                            {error}\r\n                        </div>\r\n                    )}\r\n\r\n                    <Link className=\"text-sm mt-3 text-right\" href={\"/\"}>\r\n                        Already have an account? <span className=\"underline\">Login here</span>\r\n                    </Link>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;;AAJA;;;;AAMe,SAAS;;IACpB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,MAAM,eAAe,OAAO;QACxB,EAAE,cAAc;QAEhB,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAU;YAC9B,SAAS;YACT;QACJ;QAEA,IAAI;YACA,MAAM,eAAe,MAAM,MAAM,iBAAiB;gBAC9C,QAAQ;gBACR,SAAS;oBACL,gBAAgB;gBACpB;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE;gBAAM;YACjC;YAEA,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,aAAa,IAAI;YAExC,IAAI,MAAM;gBACN,SAAS;gBACT;YACJ;YAEA,MAAM,MAAM,MAAM,MAAM,gBAAgB;gBACpC,QAAQ;gBACR,SAAS;oBACL,gBAAgB;gBACpB;gBACA,MAAM,KAAK,SAAS,CAAE;oBAClB;oBACA;oBACA;gBACJ;YACJ;YAEA,IAAI,IAAI,EAAE,EAAE;gBACR,MAAM,OAAO,EAAE,MAAM;gBACrB,KAAK,KAAK;YACd,OAAO;gBACH,QAAQ,GAAG,CAAC;YAChB;QACJ,EAAE,OAAO,OAAO;YACZ,QAAQ,GAAG,CAAC,6BAA6B;QAC7C;IACJ;IAEA,qBACI,6LAAC;QAAI,WAAU;kBACX,cAAA,6LAAC;YAAI,WAAU;;8BACX,6LAAC;oBAAG,WAAU;8BAAyB;;;;;;8BACvC,6LAAC;8BAAG;;;;;;8BAEJ,6LAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACpC,6LAAC;4BAAM,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;4BAAG,MAAK;4BAAO,aAAY;;;;;;sCACzE,6LAAC;4BAAM,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;4BAAG,MAAK;4BAAO,aAAY;;;;;;sCAC1E,6LAAC;4BAAM,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;4BAAG,MAAK;4BAAW,aAAY;;;;;;sCACjF,6LAAC;4BAAO,WAAU;sCAA6D;;;;;;wBAE7E,uBACE,6LAAC;4BAAI,WAAU;sCACV;;;;;;sCAIT,6LAAC,+JAAA,CAAA,UAAI;4BAAC,WAAU;4BAA0B,MAAM;;gCAAK;8CACxB,6LAAC;oCAAK,WAAU;8CAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM7E;GA9EwB;KAAA"}},
    {"offset": {"line": 179, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}